{"version":3,"sources":["components/products/Header.js","components/products/THead.js","components/products/TRows.js","store/actions.js","components/products/TRowsContainer.js","components/products/Table.js","components/products/Controls.js","components/products/ControlsContainer.js","components/products/Products.js","components/cart/Header.js","components/cart/THead.js","components/cart/TRows.js","components/cart/TRowsContainer.js","components/cart/Total.js","components/cart/TotalContainer.js","components/cart/Table.js","components/cart/Controls.js","components/cart/ControlsContainer.js","components/cart/Cart.js","components/App.js","store/reducers.js","index.js"],"names":["Header","react_default","a","createElement","className","React","Component","THead","TRows","_this","this","addToCart","props","rows","products","map","item","id","name","price","amount","cart","key","onClick","Fragment","changePage","type","payload","removeFromCart","all","clean","TRowsContainer","TRows_TRows","mapDispatchToProps","connect","state","Table","THead_THead","products_TRowsContainer","Controls","ControlsContainer","Controls_Controls","Products","Header_Header","Table_Table","products_ControlsContainer","_loop","i","parseInt","_products$i","push","cart_TRows_TRows","Total","console","log","TotalContainer","Total_Total","cart_THead_THead","cart_TRowsContainer","cart_TotalContainer","cart_Controls_Controls","Cart","cart_Header_Header","cart_Table_Table","cart_ControlsContainer","App","page","Products_Products","Cart_Cart","Object","objectSpread","initalStore","rootReducer","store","arguments","length","undefined","action","toConsumableArray","alert","createStore","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.6999f0ff.chunk.js","sourcesContent":["import React from 'react'\n\nexport default class Header extends React.Component {\n    render() {\n        return (\n            <header className=\"header\">\n                <h1 className=\"h1\">Список товаров</h1>\n            </header>\n        )\n    }\n}","import React from 'react'\n\nexport default class THead extends React.Component {\n    render() {\n        return (\n            <thead className=\"thead\">\n                <tr>\n                    <td className=\"td thead__td\">Название</td>\n                    <td className=\"td thead__td\">Цена</td>\n                    <td className=\"td thead__td\">Количество</td>\n                    <td className=\"td thead__td\"></td>\n                </tr>\n            </thead>\n        )\n    }\n}","import React from 'react'\n\nexport default class TRows extends React.Component {\n    render() {\n        const addToCart = this.props.addToCart;\n        const rows = this.props.products.map((item) => {\n            let {id, name, price, amount} = item;\n            if (this.props.cart[id]) {\n                amount -= this.props.cart[id];\n            }\n            return (\n                <tr key={id}>\n                    <td className=\"td tbody__td\">{name}</td>\n                    <td className=\"td tbody__td\">${price}</td>\n                    <td className=\"td tbody__td\">{amount}</td>\n                    <td className=\"td tbody__td\">\n                        <button className=\"btn btn--add\" onClick={() => addToCart(id)}></button>\n                    </td>\n                </tr>\n            )\n        })\n        return (\n            <>\n            {rows}\n            </>\n        )\n    }\n}","export const ACTION_CHANGE_PAGE = 'ACTION_CHANGE_PAGE';\nexport const ACTION_ADD_TO_CART = 'ACTION_ADD_TO_CART';\nexport const ACTION_REMOVE_FROM_CART = 'ACTION_REMOVE_FROM_CART';\n\n\nexport const changePage = () => {\n    return {\n        type: ACTION_CHANGE_PAGE,\n        payload: null\n    }\n}\n\nexport const addToCart = (id) => {\n    return {\n        type : ACTION_ADD_TO_CART,\n        payload : id\n    }\n}\n\nexport const removeFromCart = (id, all, clean) => {\n    return {\n        type : ACTION_REMOVE_FROM_CART,\n        payload : {id, all, clean}\n    }\n}","import React from 'react'\nimport TRows from './TRows';\nimport {addToCart} from '../../store/actions';\nimport {connect} from 'react-redux';\n\nclass TRowsContainer extends React.Component {\n    render() {\n        return (\n            <TRows \n            products={this.props.products} \n            addToCart={this.props.addToCart} \n            cart={this.props.cart} \n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        products: state.products,\n        cart : state.cart\n    }\n}\n\nconst mapDispatchToProps = {\n    addToCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TRowsContainer);","import React from 'react'\nimport THead from './THead';\nimport TRowsContainer from './TRowsContainer';\n\nexport default class Table extends React.Component {\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <table className=\"table\">\n                    <THead />\n                    <tbody className=\"tbody\">\n                        <TRowsContainer/>\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React from 'react'\n\nexport default class Controls extends React.Component {\n    render() {\n        const changePage = this.props.changePage;\n        return (\n            <div className=\"controls\">\n                <button className=\"btn--block\" onClick={() => changePage()}>Корзина</button>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport Controls from './Controls';\nimport {connect} from 'react-redux'\nimport {changePage} from '../../store/actions'\n\nclass ControlsContainer extends React.Component {\n    render() {\n        return (\n            <Controls \n            changePage={this.props.changePage}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {}\n}\nconst mapDispatchToProps = {\n    changePage\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlsContainer)","import React from 'react'\nimport Header from './Header';\nimport Table from './Table';\nimport ControlsContainer from './ControlsContainer';\n\nexport default class Products extends React.Component {\n    render() {\n        return (\n            <div className=\"content products\">\n                <Header/>\n                <Table/>\n                <ControlsContainer/>\n            </div>  \n        )\n    }\n}","import React from 'react'\n\nexport default class Header extends React.Component {\n    render() {\n        return (\n            <header className=\"header\">\n                <h1 className=\"h1\">Корзина</h1>\n            </header>\n        )\n    }\n}","import React from 'react'\n\nexport default class THead extends React.Component {\n    render() {\n        return (\n            <thead className=\"thead\">\n                <tr>\n                    <td className=\"td thead__td\">Название</td>\n                    <td className=\"td thead__td\">Цена</td>\n                    <td className=\"td thead__td\">Количество</td>\n                    <td className=\"td thead__td\"></td>\n                    <td className=\"td thead__td\"></td>\n                </tr>\n            </thead>\n        )\n    }\n}","import React from 'react'\n\nexport default class TRows extends React.Component {\n    render() {\n        const removeFromCart = this.props.removeFromCart;\n        const products = this.props.products;\n        const cart = this.props.cart;\n        let rows = [];\n\n        for (let id in cart) {\n            let i = 0;\n\n            while (products[i].id !== parseInt(id)) {\n                i += 1;\n            }\n            \n            const {name, price} = products[i];\n            const amount = cart[id];\n            rows.push(\n                <tr key={id}>\n                    <td className=\"td tbody__td\">{name}</td>\n                    <td className=\"td tbody__td\">${price}</td>\n                    <td className=\"td tbody__td\">{amount}</td>\n                    <td className=\"td tbody__td\">\n                        <button className=\"btn\" onClick={() => removeFromCart(id, false, false)}></button>\n                    </td>\n                    <td>\n                        <button className=\"btn--block\" onClick={() => removeFromCart(id, true, false)}>Удалить все</button>\n                    </td>\n                </tr>\n            )\n\n        }\n\n        return (\n            <>\n            {rows}\n            </>\n        )\n    }\n}","import React from 'react'\nimport TRows from './TRows';\nimport {removeFromCart} from '../../store/actions';\nimport {connect} from 'react-redux';\n\nclass TRowsContainer extends React.Component {\n    render() {\n        return (\n            <TRows \n            products={this.props.products} \n            removeFromCart={this.props.removeFromCart} \n            cart={this.props.cart} \n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        products: state.products,\n        cart : state.cart\n    }\n}\n\nconst mapDispatchToProps = {\n    removeFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TRowsContainer);","import React from 'react'\r\n\r\nexport default class Total extends React.Component {\r\n    render() {\r\n        console.log(this.props);\r\n        const cart = this.props.cart;\r\n        const products = this.props.products;\r\n\r\n        let price = 0;\r\n        for (let id in cart) {\r\n            let i = 0;\r\n            while (products[i].id !== +id) {\r\n                i += 1;\r\n            }\r\n            price += cart[id] * products[i].price;\r\n        }\r\n        \r\n        return (\r\n            <div className=\"total\">\r\n                <span className=\"total__text\">Всего:</span>\r\n                <span className=\"total__price\">${price}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport Total from './Total'\r\nimport {connect} from 'react-redux'\r\n\r\nclass TotalContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Total\r\n            products={this.props.products}\r\n            cart={this.props.cart}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        products: state.products,\r\n        cart: state.cart\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TotalContainer)","import React from 'react'\nimport THead from './THead';\nimport TRowsContainer from './TRowsContainer';\nimport TotalContainer from './TotalContainer';\n\nexport default class Table extends React.Component {\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <table className=\"table\">\n                    <THead />\n                    <tbody className=\"tbody\">\n                        <TRowsContainer/>\n                    </tbody>\n                </table>\n                <TotalContainer/>\n            </div>\n        )\n    }\n}","import React from 'react'\n\nexport default class Controls extends React.Component {\n    render() {\n        const changePage = this.props.changePage;\n        const removeFromCart = this.props.removeFromCart;\n        return (\n            <div className=\"controls\">\n                <button className=\"btn--block\" onClick={() => removeFromCart(null, false, true)}>Очистить корзину</button>\n                <button className=\"btn--block fl\" onClick={() => changePage()}>Список товаров</button>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport Controls from './Controls'\nimport {connect} from 'react-redux'\nimport {changePage} from '../../store/actions'\nimport {removeFromCart} from '../../store/actions'\n\n\nclass ControlsContainer extends React.Component {\n    render() {\n        return (\n            <Controls \n            changePage={this.props.changePage}\n            removeFromCart={this.props.removeFromCart}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {}\n}\nconst mapDispatchToProps = {\n    changePage,\n    removeFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlsContainer)","import React from 'react'\nimport Header from './Header';\nimport Table from './Table';\nimport ControlsContainer from './ControlsContainer';\n\nexport default class Cart extends React.Component {\n    render() {\n        return (\n            <div className=\"content products\">\n                <Header/>\n                <Table/>\n                <ControlsContainer/>\n            </div>  \n        )\n    }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport Products from './products/Products';\nimport Cart from './cart/Cart'\nclass App extends React.Component {\n    render() {\n        return (\n            <main className=\"main\">\n                {this.props.page === 'PRODUCTS' ? <Products /> : <Cart />}\n            </main>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {...state};\n}\n\nconst mapDispatchToProps = {}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {ACTION_CHANGE_PAGE, ACTION_ADD_TO_CART, ACTION_REMOVE_FROM_CART} from './actions'\n\nconst initalStore = {\n    page : 'PRODUCTS',\n    cart : {},\n    products : [\n        {\n            id : 1,\n            name : 'Item 1',\n            price : '890',\n            amount : 1\n        },\n        {\n            id : 2,\n            name : 'Item 2',\n            price : '20',\n            amount : 3\n        },\n        {\n            id : 3,\n            name : 'Item 3',\n            price : '428',\n            amount : 0\n        },\n        {\n            id : 4,\n            name : 'Item 3',\n            price : '20',\n            amount : 23\n        }\n    ]\n}\n\nconst rootReducer = (store = initalStore, action) => {\n    switch (action.type) {\n        case ACTION_CHANGE_PAGE:\n            return {...store, page: store.page === 'PRODUCTS' ? 'CART' : 'PRODUCTS'}\n        case ACTION_ADD_TO_CART:\n            {\n                let cart = {...store.cart};\n                let products = [...store.products];\n                let i = 0;\n                let id =  action.payload;\n\n                while (products[i].id !== id) {\n                    i += 1;\n                }\n\n                if (products[i].amount === 0) {\n                    alert('Товар закончился!');\n                    return {...store};\n                }\n\n                if (cart[id] && (products[i].amount - cart[id] === 0)) {\n                    alert('Товар закончился!');\n                    return {...store};\n                }\n\n                if (cart[id]) {\n                    cart[id] += 1;\n                } else {\n                    cart[id] = 1;\n                }\n\n                return {...store, cart}\n            }  \n        case ACTION_REMOVE_FROM_CART:\n            {\n                const id = action.payload.id;\n                //Clean whole cart\n                if (action.payload.clean) {\n                    return {...store, cart: {}}\n                }\n                //Remove whole position \n                if (action.payload.all) {\n                    let cart = {...store.cart}\n                    delete cart[id];\n                    return {...store, cart: cart};\n                }\n                //Remove one item\n                let cart = {...store.cart};\n                if (cart[id] === 1) {\n                    delete cart[id];\n                } else {\n                    cart[id] -= 1;\n                }\n\n                return {...store, cart: cart};\n            }\n        default:\n            return {...store};\n    }\n}\n\nexport default rootReducer;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {createStore} from 'redux'\nimport {Provider} from 'react-redux'\nimport App from './components/App'\nimport rootReducer from './store/reducers'\n\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'))\n"],"sourceRoot":""}