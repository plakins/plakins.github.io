{"version":3,"sources":["components/products/Header.js","components/products/THead.js","components/products/TRows.js","store/actions.js","components/products/TRowsContainer.js","components/products/Table.js","components/products/Controls.js","components/products/ControlsContainer.js","components/products/Products.js","components/cart/Header.js","components/cart/THead.js","components/cart/TRows.js","components/cart/TRowsContainer.js","components/cart/Table.js","components/cart/Controls.js","components/cart/ControlsContainer.js","components/cart/Cart.js","components/App.js","store/reducers.js","index.js"],"names":["Header","react_default","a","createElement","className","React","Component","THead","TRows","_this","this","addToCart","props","rows","products","map","item","id","name","price","amount","cart","key","onClick","Fragment","changePage","type","payload","removeFromCart","all","clean","TRowsContainer","TRows_TRows","mapDispatchToProps","connect","state","Table","THead_THead","products_TRowsContainer","Controls","console","log","ControlsContainer","Controls_Controls","Products","Header_Header","Table_Table","products_ControlsContainer","_loop","i","parseInt","_products$i","push","cart_TRows_TRows","cart_THead_THead","cart_TRowsContainer","cart_Controls_Controls","Cart","cart_Header_Header","cart_Table_Table","cart_ControlsContainer","App","page","Products_Products","Cart_Cart","Object","objectSpread","initalStore","rootReducer","store","arguments","length","undefined","action","toConsumableArray","alert","__webpack_require__","d","__webpack_exports__","src_store","createStore","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"kOAEqBA,mLAEb,OACIC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,MAAd,2FAJoBC,IAAMC,WCArBC,mLAEb,OACIN,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACbH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,oDACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,4BACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,gEACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BARCC,IAAMC,WCApBE,mLACR,IAAAC,EAAAC,KACCC,EAAYD,KAAKE,MAAMD,UACvBE,EAAOH,KAAKE,MAAME,SAASC,IAAI,SAACC,GAAS,IACtCC,EAA2BD,EAA3BC,GAAIC,EAAuBF,EAAvBE,KAAMC,EAAiBH,EAAjBG,MAAOC,EAAUJ,EAAVI,OAItB,OAHIX,EAAKG,MAAMS,KAAKJ,KAChBG,GAAUX,EAAKG,MAAMS,KAAKJ,IAG1BhB,EAAAC,EAAAC,cAAA,MAAImB,IAAKL,GACLhB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBc,GAC9BjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBe,GAC9BlB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBgB,GAC9BnB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACVH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAemB,QAAS,kBAAMZ,EAAUM,UAK1E,OACIhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAsB,SAAA,KACCX,UArBsBR,IAAMC,WCG5BmB,EAAa,WACtB,MAAO,CACHC,KAP0B,qBAQ1BC,QAAS,OAWJC,EAAiB,SAACX,EAAIY,EAAKC,GACpC,MAAO,CACHJ,KAnB+B,0BAoB/BC,QAAU,CAACV,KAAIY,MAAKC,WCjBtBC,mLAEE,OACI9B,EAAAC,EAAAC,cAAC6B,EAAD,CACAlB,SAAUJ,KAAKE,MAAME,SACrBH,UAAWD,KAAKE,MAAMD,UACtBU,KAAMX,KAAKE,MAAMS,cANAhB,IAAMC,WAmB7B2B,EAAqB,CACvBtB,UDbqB,SAACM,GACtB,MAAO,CACHS,KAb0B,qBAc1BC,QAAUV,KCaHiB,cAXS,SAACC,GACrB,MAAO,CACHrB,SAAUqB,EAAMrB,SAChBO,KAAOc,EAAMd,OAQmBY,EAAzBC,CAA6CH,GCxBvCK,mLAEb,OACInC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACbH,EAAAC,EAAAC,cAACkC,EAAD,MACApC,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACbH,EAAAC,EAAAC,cAACmC,EAAD,gBAPWjC,IAAMC,WCFpBiC,mLAEbC,QAAQC,IAAI/B,KAAKE,OACjB,IAAMa,EAAaf,KAAKE,MAAMa,WAC9B,OACIxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,aAAamB,QAAS,kBAAME,MAA9C,sDANsBpB,IAAMC,WCGtCoC,mLAEE,OACIzC,EAAAC,EAAAC,cAACwC,EAAD,CACAlB,WAAYf,KAAKE,MAAMa,oBAJHpB,IAAMC,WAahC2B,EAAqB,CACvBR,cAGWS,cAPS,SAACC,GACrB,MAAO,IAM6BF,EAAzBC,CAA6CQ,GCjBvCE,mLAEb,OACI3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAC0C,EAAD,MACA5C,EAAAC,EAAAC,cAAC2C,EAAD,MACA7C,EAAAC,EAAAC,cAAC4C,EAAD,cANsB1C,IAAMC,WCHvBN,mLAEb,OACIC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,MAAd,sDAJoBC,IAAMC,WCArBC,mLAEb,OACIN,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACbH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,oDACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,4BACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,gEACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BATCC,IAAMC,WCApBE,mLAEb,IAAMoB,EAAiBlB,KAAKE,MAAMgB,eAC5Bd,EAAWJ,KAAKE,MAAME,SACtBO,EAAOX,KAAKE,MAAMS,KACpBR,EAAO,GAJNmC,EAAA,SAMI/B,GAGL,IAFA,IAAIgC,EAAI,EAEDnC,EAASmC,GAAGhC,KAAOiC,SAASjC,IAC/BgC,GAAK,EAVR,IAAAE,EAaqBrC,EAASmC,GAAxB/B,EAbNiC,EAaMjC,KAAMC,EAbZgC,EAaYhC,MACPC,EAASC,EAAKJ,GACpBJ,EAAKuC,KACDnD,EAAAC,EAAAC,cAAA,MAAImB,IAAKL,GACLhB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBc,GAC9BjB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBe,GAC9BlB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBgB,GAC9BnB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACVH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,MAAMmB,QAAS,kBAAMK,EAAeX,GAAI,GAAO,OAErEhB,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,aAAamB,QAAS,kBAAMK,EAAeX,GAAI,GAAM,KAAvE,qEAlBhB,IAAK,IAAIA,KAAMI,EAAM2B,EAAZ/B,GAyBT,OACIhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAsB,SAAA,KACCX,UAlCsBR,IAAMC,WCGnCyB,mLAEE,OACI9B,EAAAC,EAAAC,cAACkD,EAAD,CACAvC,SAAUJ,KAAKE,MAAME,SACrBc,eAAgBlB,KAAKE,MAAMgB,eAC3BP,KAAMX,KAAKE,MAAMS,cANAhB,IAAMC,WAmB7B2B,EAAqB,CACvBL,kBAGWM,cAXS,SAACC,GACrB,MAAO,CACHrB,SAAUqB,EAAMrB,SAChBO,KAAOc,EAAMd,OAQmBY,EAAzBC,CAA6CH,GCxBvCK,mLAEb,OACInC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACbH,EAAAC,EAAAC,cAACmD,EAAD,MACArD,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SACbH,EAAAC,EAAAC,cAACoD,EAAD,gBAPWlD,IAAMC,WCFpBiC,mLAEbC,QAAQC,IAAI/B,KAAKE,OACjB,IAAMa,EAAaf,KAAKE,MAAMa,WACxBG,EAAiBlB,KAAKE,MAAMgB,eAClC,OACI3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,aAAamB,QAAS,kBAAMK,EAAe,MAAM,GAAO,KAA1E,+FACA3B,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gBAAgBmB,QAAS,kBAAME,MAAjD,2FARsBpB,IAAMC,WCKtCoC,mLAEE,OACIzC,EAAAC,EAAAC,cAACqD,EAAD,CACA/B,WAAYf,KAAKE,MAAMa,WACvBG,eAAgBlB,KAAKE,MAAMgB,wBALPvB,IAAMC,WAchC2B,EAAqB,CACvBR,aACAG,kBAGWM,cARS,SAACC,GACrB,MAAO,IAO6BF,EAAzBC,CAA6CQ,GCrBvCe,mLAEb,OACIxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAACuD,EAAD,MACAzD,EAAAC,EAAAC,cAACwD,EAAD,MACA1D,EAAAC,EAAAC,cAACyD,EAAD,cANkBvD,IAAMC,WCDlCuD,mLAGE,OADArB,QAAQC,IAAI/B,KAAKE,OAEbX,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QACS,aAApBM,KAAKE,MAAMkD,KAAsB7D,EAAAC,EAAAC,cAAC4D,EAAD,MAAe9D,EAAAC,EAAAC,cAAC6D,EAAD,cAL/C3D,IAAMC,WAkBT4B,cANS,SAACC,GACrB,OAAO8B,OAAAC,EAAA,EAAAD,CAAA,GAAI9B,IAGY,GAEZD,CAA6C2B,WCpBtDM,EAAc,CAChBL,KAAO,WACPzC,KAAO,GACPP,SAAW,CACP,CACIG,GAAK,EACLC,KAAO,SACPC,MAAQ,MACRC,OAAS,GAEb,CACIH,GAAK,EACLC,KAAO,SACPC,MAAQ,KACRC,OAAS,GAEb,CACIH,GAAK,EACLC,KAAO,SACPC,MAAQ,MACRC,OAAS,GAEb,CACIH,GAAK,EACLC,KAAO,SACPC,MAAQ,KACRC,OAAS,MAkENgD,EA7DK,WAAiC,IAAhCC,EAAgCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxBH,EAAaM,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACjD,OAAQC,EAAO/C,MACX,IfnC0B,qBeoCtB,OAAOuC,OAAAC,EAAA,EAAAD,CAAA,GAAII,EAAX,CAAkBP,KAAqB,aAAfO,EAAMP,KAAsB,OAAS,aACjE,IfpC0B,qBe2ClB,IALA,IAAIzC,EAAI4C,OAAAC,EAAA,EAAAD,CAAA,GAAOI,EAAMhD,MACjBP,EAAQmD,OAAAS,EAAA,EAAAT,CAAOI,EAAMvD,UACrBmC,EAAI,EACJhC,EAAMwD,EAAO9C,QAEVb,EAASmC,GAAGhC,KAAOA,GACtBgC,GAAK,EAGT,OAA2B,IAAvBnC,EAASmC,GAAG7B,QACZuD,MAAM,gGACCV,OAAAC,EAAA,EAAAD,CAAA,GAAII,IAGXhD,EAAKJ,IAAQH,EAASmC,GAAG7B,OAASC,EAAKJ,KAAQ,GAC/C0D,MAAM,gGACCV,OAAAC,EAAA,EAAAD,CAAA,GAAII,KAGXhD,EAAKJ,GACLI,EAAKJ,IAAO,EAEZI,EAAKJ,GAAM,EAGRgD,OAAAC,EAAA,EAAAD,CAAA,GAAII,EAAX,CAAkBhD,UAE1B,IfhE+B,0BekEvB,IAAMJ,EAAKwD,EAAO9C,QAAQV,GAE1B,GAAIwD,EAAO9C,QAAQG,MACf,OAAOmC,OAAAC,EAAA,EAAAD,CAAA,GAAII,EAAX,CAAkBhD,KAAM,KAG5B,GAAIoD,EAAO9C,QAAQE,IAAK,CACpB,IAAIR,EAAI4C,OAAAC,EAAA,EAAAD,CAAA,GAAOI,EAAMhD,MAErB,cADOA,EAAKJ,GACLgD,OAAAC,EAAA,EAAAD,CAAA,GAAII,EAAX,CAAkBhD,KAAMA,IAG5B,IAAIA,EAAI4C,OAAAC,EAAA,EAAAD,CAAA,GAAOI,EAAMhD,MAOrB,OANiB,IAAbA,EAAKJ,UACEI,EAAKJ,GAEZI,EAAKJ,IAAO,EAGTgD,OAAAC,EAAA,EAAAD,CAAA,GAAII,EAAX,CAAkBhD,KAAMA,IAEhC,QACI,OAAO4C,OAAAC,EAAA,EAAAD,CAAA,GAAII,KC1FvBO,EAAAC,EAAAC,EAAA,0BAAAC,IAQO,IAAIV,EAAQW,YAAYZ,GAE/Ba,IAASC,OAAOjF,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAUd,MAAOA,GAAOpE,EAAAC,EAAAC,cAACiF,EAAD,OAAmBC,SAASC,eAAe","file":"static/js/main.25c64cdc.chunk.js","sourcesContent":["import React from 'react'\n\nexport default class Header extends React.Component {\n    render() {\n        return (\n            <header className=\"header\">\n                <h1 className=\"h1\">Список товаров</h1>\n            </header>\n        )\n    }\n}","import React from 'react'\n\nexport default class THead extends React.Component {\n    render() {\n        return (\n            <thead className=\"thead\">\n                <tr>\n                    <td className=\"td thead__td\">Название</td>\n                    <td className=\"td thead__td\">Цена</td>\n                    <td className=\"td thead__td\">Количество</td>\n                    <td className=\"td thead__td\"></td>\n                </tr>\n            </thead>\n        )\n    }\n}","import React from 'react'\n\nexport default class TRows extends React.Component {\n    render() {\n        const addToCart = this.props.addToCart;\n        const rows = this.props.products.map((item) => {\n            let {id, name, price, amount} = item;\n            if (this.props.cart[id]) {\n                amount -= this.props.cart[id];\n            }\n            return (\n                <tr key={id}>\n                    <td className=\"td tbody__td\">{name}</td>\n                    <td className=\"td tbody__td\">{price}</td>\n                    <td className=\"td tbody__td\">{amount}</td>\n                    <td className=\"td tbody__td\">\n                        <button className=\"btn btn--add\" onClick={() => addToCart(id)}></button>\n                    </td>\n                </tr>\n            )\n        })\n        return (\n            <>\n            {rows}\n            </>\n        )\n    }\n}","export const ACTION_CHANGE_PAGE = 'ACTION_CHANGE_PAGE';\nexport const ACTION_ADD_TO_CART = 'ACTION_ADD_TO_CART';\nexport const ACTION_REMOVE_FROM_CART = 'ACTION_REMOVE_FROM_CART';\n\n\nexport const changePage = () => {\n    return {\n        type: ACTION_CHANGE_PAGE,\n        payload: null\n    }\n}\n\nexport const addToCart = (id) => {\n    return {\n        type : ACTION_ADD_TO_CART,\n        payload : id\n    }\n}\n\nexport const removeFromCart = (id, all, clean) => {\n    return {\n        type : ACTION_REMOVE_FROM_CART,\n        payload : {id, all, clean}\n    }\n}","import React from 'react'\nimport TRows from './TRows';\nimport {addToCart} from '../../store/actions';\nimport {connect} from 'react-redux';\n\nclass TRowsContainer extends React.Component {\n    render() {\n        return (\n            <TRows \n            products={this.props.products} \n            addToCart={this.props.addToCart} \n            cart={this.props.cart} \n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        products: state.products,\n        cart : state.cart\n    }\n}\n\nconst mapDispatchToProps = {\n    addToCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TRowsContainer);","import React from 'react'\nimport THead from './THead';\nimport TRowsContainer from './TRowsContainer';\n\nexport default class Table extends React.Component {\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <table className=\"table\">\n                    <THead />\n                    <tbody className=\"tbody\">\n                        <TRowsContainer/>\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React from 'react'\n\nexport default class Controls extends React.Component {\n    render() {\n        console.log(this.props);\n        const changePage = this.props.changePage;\n        return (\n            <div className=\"controls\">\n                <button className=\"btn--block\" onClick={() => changePage()}>Корзина</button>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport Controls from './Controls';\nimport {connect} from 'react-redux'\nimport {changePage} from '../../store/actions'\n\nclass ControlsContainer extends React.Component {\n    render() {\n        return (\n            <Controls \n            changePage={this.props.changePage}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {}\n}\nconst mapDispatchToProps = {\n    changePage\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlsContainer)","import React from 'react'\nimport Header from './Header';\nimport Table from './Table';\nimport ControlsContainer from './ControlsContainer';\n\nexport default class Products extends React.Component {\n    render() {\n        return (\n            <div className=\"content products\">\n                <Header/>\n                <Table/>\n                <ControlsContainer/>\n            </div>  \n        )\n    }\n}","import React from 'react'\n\nexport default class Header extends React.Component {\n    render() {\n        return (\n            <header className=\"header\">\n                <h1 className=\"h1\">Корзина</h1>\n            </header>\n        )\n    }\n}","import React from 'react'\n\nexport default class THead extends React.Component {\n    render() {\n        return (\n            <thead className=\"thead\">\n                <tr>\n                    <td className=\"td thead__td\">Название</td>\n                    <td className=\"td thead__td\">Цена</td>\n                    <td className=\"td thead__td\">Количество</td>\n                    <td className=\"td thead__td\"></td>\n                    <td className=\"td thead__td\"></td>\n                </tr>\n            </thead>\n        )\n    }\n}","import React from 'react'\n\nexport default class TRows extends React.Component {\n    render() {\n        const removeFromCart = this.props.removeFromCart;\n        const products = this.props.products;\n        const cart = this.props.cart;\n        let rows = [];\n\n        for (let id in cart) {\n            let i = 0;\n\n            while (products[i].id !== parseInt(id)) {\n                i += 1;\n            }\n            \n            const {name, price} = products[i];\n            const amount = cart[id];\n            rows.push(\n                <tr key={id}>\n                    <td className=\"td tbody__td\">{name}</td>\n                    <td className=\"td tbody__td\">{price}</td>\n                    <td className=\"td tbody__td\">{amount}</td>\n                    <td className=\"td tbody__td\">\n                        <button className=\"btn\" onClick={() => removeFromCart(id, false, false)}></button>\n                    </td>\n                    <td>\n                        <button className=\"btn--block\" onClick={() => removeFromCart(id, true, false)}>Удалить все</button>\n                    </td>\n                </tr>\n            )\n\n        }\n\n        return (\n            <>\n            {rows}\n            </>\n        )\n    }\n}","import React from 'react'\nimport TRows from './TRows';\nimport {removeFromCart} from '../../store/actions';\nimport {connect} from 'react-redux';\n\nclass TRowsContainer extends React.Component {\n    render() {\n        return (\n            <TRows \n            products={this.props.products} \n            removeFromCart={this.props.removeFromCart} \n            cart={this.props.cart} \n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        products: state.products,\n        cart : state.cart\n    }\n}\n\nconst mapDispatchToProps = {\n    removeFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TRowsContainer);","import React from 'react'\nimport THead from './THead';\nimport TRowsContainer from './TRowsContainer';\n\nexport default class Table extends React.Component {\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <table className=\"table\">\n                    <THead />\n                    <tbody className=\"tbody\">\n                        <TRowsContainer/>\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}","import React from 'react'\n\nexport default class Controls extends React.Component {\n    render() {\n        console.log(this.props);\n        const changePage = this.props.changePage;\n        const removeFromCart = this.props.removeFromCart;\n        return (\n            <div className=\"controls\">\n                <button className=\"btn--block\" onClick={() => removeFromCart(null, false, true)}>Очистить корзину</button>\n                <button className=\"btn--block fl\" onClick={() => changePage()}>Список товаров</button>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport Controls from './Controls'\nimport {connect} from 'react-redux'\nimport {changePage} from '../../store/actions'\nimport {removeFromCart} from '../../store/actions'\n\n\nclass ControlsContainer extends React.Component {\n    render() {\n        return (\n            <Controls \n            changePage={this.props.changePage}\n            removeFromCart={this.props.removeFromCart}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {}\n}\nconst mapDispatchToProps = {\n    changePage,\n    removeFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlsContainer)","import React from 'react'\nimport Header from './Header';\nimport Table from './Table';\nimport ControlsContainer from './ControlsContainer';\n\nexport default class Cart extends React.Component {\n    render() {\n        return (\n            <div className=\"content products\">\n                <Header/>\n                <Table/>\n                <ControlsContainer/>\n            </div>  \n        )\n    }\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport Products from './products/Products';\nimport Cart from './cart/Cart'\nclass App extends React.Component {\n    render() {\n        console.log(this.props);\n        return (\n            <main className=\"main\">\n                {this.props.page === 'PRODUCTS' ? <Products /> : <Cart />}\n            </main>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {...state};\n}\n\nconst mapDispatchToProps = {}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import {ACTION_CHANGE_PAGE, ACTION_ADD_TO_CART, ACTION_REMOVE_FROM_CART} from './actions'\n\nconst initalStore = {\n    page : 'PRODUCTS',\n    cart : {},\n    products : [\n        {\n            id : 1,\n            name : 'Item 1',\n            price : '890',\n            amount : 1\n        },\n        {\n            id : 2,\n            name : 'Item 2',\n            price : '20',\n            amount : 3\n        },\n        {\n            id : 3,\n            name : 'Item 3',\n            price : '428',\n            amount : 0\n        },\n        {\n            id : 4,\n            name : 'Item 3',\n            price : '20',\n            amount : 23\n        }\n    ]\n}\n\nconst rootReducer = (store = initalStore, action) => {\n    switch (action.type) {\n        case ACTION_CHANGE_PAGE:\n            return {...store, page: store.page === 'PRODUCTS' ? 'CART' : 'PRODUCTS'}\n        case ACTION_ADD_TO_CART:\n            {\n                let cart = {...store.cart};\n                let products = [...store.products];\n                let i = 0;\n                let id =  action.payload;\n\n                while (products[i].id !== id) {\n                    i += 1;\n                }\n\n                if (products[i].amount === 0) {\n                    alert('Товар закончился!');\n                    return {...store};\n                }\n\n                if (cart[id] && (products[i].amount - cart[id] === 0)) {\n                    alert('Товар закончился!');\n                    return {...store};\n                }\n\n                if (cart[id]) {\n                    cart[id] += 1;\n                } else {\n                    cart[id] = 1;\n                }\n\n                return {...store, cart}\n            }  \n        case ACTION_REMOVE_FROM_CART:\n            {\n                const id = action.payload.id;\n                //Clean whole cart\n                if (action.payload.clean) {\n                    return {...store, cart: {}}\n                }\n                //Remove whole position \n                if (action.payload.all) {\n                    let cart = {...store.cart}\n                    delete cart[id];\n                    return {...store, cart: cart};\n                }\n                //Remove one item\n                let cart = {...store.cart};\n                if (cart[id] === 1) {\n                    delete cart[id];\n                } else {\n                    cart[id] -= 1;\n                }\n\n                return {...store, cart: cart};\n            }\n        default:\n            return {...store};\n    }\n}\n\nexport default rootReducer;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {createStore} from 'redux'\nimport {Provider} from 'react-redux'\nimport App from './components/App'\nimport rootReducer from './store/reducers'\n\n\nexport let store = createStore(rootReducer);\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'))\n"],"sourceRoot":""}